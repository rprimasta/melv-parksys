<html>
  
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>SegmentDisplay</title>
    
    <!--[if IE]>
      <script type="text/javascript" src="excanvas.js"></script>
    <![endif]-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script type="text/javascript" src="segment-display.js"></script>
    <script type="text/javascript">
	
	
	
      var display1 = new SegmentDisplay("display1");
	  var display2 = new SegmentDisplay("display2");
	  var display3 = new SegmentDisplay("display3");
	  var display4 = new SegmentDisplay("display4");
	  var display5 = new SegmentDisplay("display5");
	  var display6 = new SegmentDisplay("display6");
	  var display7 = new SegmentDisplay("display7");
	  var display8 = new SegmentDisplay("display8");
	  <!--Display1 Properties-->
      display1.pattern         = "####";
      display1.cornerType      = 2;
      display1.displayType     = 7;
      display1.displayAngle    = 9;
      display1.digitHeight     = 20;
      display1.digitWidth      = 12;
      display1.digitDistance   = 2;
      display1.segmentWidth    = 3;
      display1.segmentDistance = 0.5;
      display1.colorOn         = "rgba(0, 0, 0, 0.9)";
      display1.colorOff        = "rgba(0, 0, 0, 0.1)";
	  <!--Display2 Properties-->
      display2.pattern         = "####";
      display2.cornerType      = 2;
      display2.displayType     = 7;
      display2.displayAngle    = 9;
      display2.digitHeight     = 20;
      display2.digitWidth      = 12;
      display2.digitDistance   = 2;
      display2.segmentWidth    = 3;
      display2.segmentDistance = 0.5;
      display2.colorOn         = "rgba(0, 0, 0, 0.9)";
      display2.colorOff        = "rgba(0, 0, 0, 0.1)";
	  <!--Display3 Properties-->
      display3.pattern         = "####";
      display3.cornerType      = 2;
      display3.displayType     = 7;
      display3.displayAngle    = 9;
      display3.digitHeight     = 20;
      display3.digitWidth      = 12;
      display3.digitDistance   = 2;
      display3.segmentWidth    = 3;
      display3.segmentDistance = 0.5;
      display3.colorOn         = "rgba(0, 0, 0, 0.9)";
      display3.colorOff        = "rgba(0, 0, 0, 0.1)";
	  <!--Display4 Properties-->
      display4.pattern         = "####";
      display4.cornerType      = 2;
      display4.displayType     = 7;
      display4.displayAngle    = 9;
      display4.digitHeight     = 20;
      display4.digitWidth      = 12;
      display4.digitDistance   = 2;
      display4.segmentWidth    = 3;
      display4.segmentDistance = 0.5;
      display4.colorOn         = "rgba(0, 0, 0, 0.9)";
      display4.colorOff        = "rgba(0, 0, 0, 0.1)";
	  <!--Display5 Properties-->
      display5.pattern         = "####";
      display5.cornerType      = 2;
      display5.displayType     = 7;
      display5.displayAngle    = 9;
      display5.digitHeight     = 20;
      display5.digitWidth      = 12;
      display5.digitDistance   = 2;
      display5.segmentWidth    = 3;
      display5.segmentDistance = 0.5;
      display5.colorOn         = "rgba(0, 0, 0, 0.9)";
      display5.colorOff        = "rgba(0, 0, 0, 0.1)";
	  <!--Display6 Properties-->
      display6.pattern         = "####";
      display6.cornerType      = 2;
      display6.displayType     = 7;
      display6.displayAngle    = 9;
      display6.digitHeight     = 20;
      display6.digitWidth      = 12;
      display6.digitDistance   = 2;
      display6.segmentWidth    = 3;
      display6.segmentDistance = 0.5;
      display6.colorOn         = "rgba(0, 0, 0, 0.9)";
      display6.colorOff        = "rgba(0, 0, 0, 0.1)";
	  <!--Display7 Properties-->
      display7.pattern         = "####";
      display7.cornerType      = 2;
      display7.displayType     = 7;
      display7.displayAngle    = 9;
      display7.digitHeight     = 20;
      display7.digitWidth      = 12;
      display7.digitDistance   = 2;
      display7.segmentWidth    = 3;
      display7.segmentDistance = 0.5;
      display7.colorOn         = "rgba(0, 0, 0, 0.9)";
      display7.colorOff        = "rgba(0, 0, 0, 0.1)";
	  <!--Display8 Properties-->
      display8.pattern         = "####";
      display8.cornerType      = 2;
      display8.displayType     = 7;
      display8.displayAngle    = 9;
      display8.digitHeight     = 20;
      display8.digitWidth      = 12;
      display8.digitDistance   = 2;
      display8.segmentWidth    = 3;
      display8.segmentDistance = 0.5;
      display8.colorOn         = "rgba(0, 0, 0, 0.9)";
      display8.colorOff        = "rgba(0, 0, 0, 0.1)";


      animate();

      function animate() {
	  
        $.ajax({
		  url: '/melvin/?user=melvin&pass=r4h4s14&method=info',
		  type: 'GET',
		  success: function(response){
			//alert (response);
			var obj = JSON.parse(response);
			//alert(response);	
			var stock = obj.Data[0].count;
			var quotaA = obj.Data[6].count;
			var quotaB = obj.Data[7].count;
			var quotaC = obj.Data[8].count;
			var areaAavail = quotaA-obj.Data[3].count;
			var areaBavail = quotaB-obj.Data[4].count;
			var areaCavail = quotaC-obj.Data[5].count;
			var available =  areaAavail+areaBavail+areaCavail;
		   // Perform operation on the return value
		    display1.setValue(String(stock));
			display2.setValue(String(available));
			display3.setValue(String(areaAavail)); //area A
			display4.setValue(String(areaBavail)); //Area B
			display5.setValue(String(areaCavail)); //Area C
			display6.setValue(String(quotaA+quotaB+quotaC));
			display7.setValue(String(obj.Data[1].count)); //in counter
			display8.setValue(String(obj.Data[2].count)); //out counter
		   //alert(obj.Data[0].id);
		  }
		 });
       
        
		window.setTimeout('animate()', 1000);
      	setTimeout("location.href = 'http://103.8.79.69/melvin/display/parkingarea.php';", 20000);
      }

    </script> 
    
	<style>
		#overlay {
			position: fixed;
			display: block;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			//background: transparent url(https://d2v9y0dukr6mq2.cloudfront.net/video/thumbnail/H8WuRINimqur8ud/technology-background-gear_rhfg-imn_thumbnail-full01.png);
			background-color: #263e68; //#4286f4
			z-index: 2;
			cursor: pointer;
		}
	</style>
	
  </head>
  
  <body id="overlay">
    <div  style="padding: 150px 100px;">
		<table style="height: 119px; margin-left: auto; margin-right: auto;" width="1000">
			<tbody>
				<tr>
					<td style="width: 400px;"><h1 style="text-align: center; color: white;">STOCK</h1></td>
					<td style="width: 400px; ">
						<div style="width: 216px; height: 126px; position: relative; background: transparent url(plexiglas.png) no-repeat top left">      
							<div style="position: absolute; left: 38px; top: 33px; width: 120px; height: 34px">
								<canvas id="display1" width="120" height="34"></canvas>
							</div>
						</div> 
					</td>
					<td style="width: 400px;"><h1 style="text-align: center; color: white;">AVAILABLE</h1></td>
					<td style="width: 400px;">
						<div style="width: 216px; height: 126px; position: relative; background: transparent url(plexiglas.png) no-repeat top left">      
							<div style="position: absolute; left: 38px; top: 33px; width: 120px; height: 34px">
								<canvas id="display2" width="120" height="34"></canvas>
							</div>
						</div> 
					</td>
				</tr>
				<tr>
					<td style="width: 400px;"><h1 style="text-align: center; color: white;">AREA A</h1></td>
					<td style="width: 400px; ">
						<div style="width: 216px; height: 126px; position: relative; background: transparent url(plexiglas.png) no-repeat top left">      
							<div style="position: absolute; left: 38px; top: 33px; width: 120px; height: 34px">
								<canvas id="display3" width="120" height="34"></canvas>
							</div>
						</div> 
					</td>
					<td style="width: 400px;"><h1 style="text-align: center; color: white;">AREA B</h1></td>
					<td style="width: 400px; ">
						<div style="width: 216px; height: 126px; position: relative; background: transparent url(plexiglas.png) no-repeat top left">      
							<div style="position: absolute; left: 38px; top: 33px; width: 120px; height: 34px">
								<canvas id="display4" width="120" height="34"></canvas>
							</div>
						</div> 
					</td>
				</tr>
				<tr>
					<td style="width: 400px;"><h1 style="text-align: center; color: white;">AREA C</h1></td>
					<td style="width: 400px; ">
						<div style="width: 216px; height: 126px; position: relative; background: transparent url(plexiglas.png) no-repeat top left">      
							<div style="position: absolute; left: 38px; top: 33px; width: 120px; height: 34px">
								<canvas id="display5" width="120" height="34"></canvas>
							</div>
						</div> 
					</td>
					<td style="width: 400px;"><h1 style="text-align: center; color: white;">CAPACITY</h1></td>
					<td style="width: 400px; ">
						<div style="width: 216px; height: 126px; position: relative; background: transparent url(plexiglas.png) no-repeat top left">      
							<div style="position: absolute; left: 38px; top: 33px; width: 120px; height: 34px">
								<canvas id="display6" width="120" height="34"></canvas>
							</div>
						</div> 
					</td>
				</tr>
				<tr>
					<td style="width: 400px;"><h1 style="text-align: center; color: white;">IN</h1></td>
					<td style="width: 400px; ">
						<div style="width: 216px; height: 126px; position: relative; background: transparent url(plexiglas.png) no-repeat top left">      
							<div style="position: absolute; left: 38px; top: 33px; width: 120px; height: 34px">
								<canvas id="display7" width="120" height="34"></canvas>
							</div>
						</div> 
					</td>
					<td style="width: 400px;"><h1 style="text-align: center; color: white;">OUT</h1></td>
					<td style="width: 400px; ">
						<div style="width: 216px; height: 126px; position: relative; background: transparent url(plexiglas.png) no-repeat top left">      
							<div style="position: absolute; left: 38px; top: 33px; width: 120px; height: 34px">
								<canvas id="display8" width="120" height="34"></canvas>
							</div>
						</div> 
					</td>
				</tr>
				
			</tbody>
		</table>
	
	</div>
     
  </body>
  
</html>
